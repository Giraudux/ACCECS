<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>ACCECS</title>
    <script src="script.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
	<link rel="stylesheet" type="text/css" href="style.css" />
</head>
<body>

<script type="text/javascript">
function getfile(){
    document.getElementById('hiddenfile').click();
    document.getElementById('selectedfile').value=document.getElementById('hiddenfile').value
}
</script>

	<!-- En tete -->
	<div class="row" id="header">
		<!-- Titre -->
		<div class="col-md-9">			
			<h1>Assistance for the Construction of Critical Embedded Control Systems</h1>
		</div>
		<!-- Controls toujours visibles -->
		<div class="col-md-3">	
			<div class="container" id="btnControl">
				<button type="button" class="btn btn-info" onclick="saveJson()">Save</button>
				<input type="file" id="hiddenfile" style="display:none" onchange="loadJson(this.files)"/>
				<input type="button" class="btn btn-info" value="Load" onclick="getfile()" />
				<img id="reference" src="img/reference.jpg" alt="reference"/>
			</div>
		</div>
	</div>
	
	
	<!-- Onglets -->
	<div class="container">
		<button type="button" class="btn btn-primary onglet" id="onglet1" onclick="changeScreen(1)">Enumerate type</button>
		<button type="button" class="btn btn-secondary onglet" id="onglet2" onclick="changeScreen(2)">Variable</button>
		<button type="button" class="btn btn-secondary onglet" id="onglet3" onclick="changeScreen(3)">Machine</button>
	</div>





	<!-- Premier onglet -->
	<div id="content1" class="contentActif">
		<fieldset id="enumerations">
			<legend>Enumerations</legend>
			<div class="container">
				<div class="form-inline">
					<div class="col-md-1 form-group"></div>
					<div class="col-md-11 form-group">Type</div>
				</div>
				<button id="addEnumerationBtn" type="button" class="btn btn-success col-md-1" onclick="this.parentNode.insertBefore(newElementEnumeration(), this)">Add Type</button>
			</div>
		</fieldset>
		
		<!-- Fin de l'etape -->
		<div class="container">
			<button type="button" class="btn btn-info nextStep" onclick="nextStep(2)">Next Step ></button>
		</div>
	</div>
	
	
	
	
	
	
	
	<!-- Deuxieme onglet -->
	<div id="content2" class="contentInactif">
		
		<!-- Système -->
		<fieldset id="machine">
			<legend>System</legend>
			<div class="container">
				<div class="row">
					<input type="text" class="MachineName col-md-3" placeholder="Name of your system" required>
				</div>
			</div>
		</fieldset>
		
		<!-- Variables -->
		<fieldset id="variables">
			<legend>Variables</legend>
			<div class="container">
				<div class="form-inline">
					<div class="col-md-1 form-group"></div>
					<div class="col-md-3 form-group">Name</div>
					<div class="col-md-1 form-group">Type</div>
					<div class="col-md-1 form-group">Category</div>
					<div class="col-md-2 form-group">Lower bound</div>
					<div class="col-md-2 form-group">Upper bound</div>
					<div class="col-md-2 form-group">Default value</div>
				</div>
				
				<div id="categoryinput"></div>
				<div id="categoryoutput"></div>
				<div id="categorycontrol"></div>
				<div id="categoryinternal"></div>
				<button id="addVariableBtn" type="button" class="btn btn-success col-md-1" onclick="this.parentNode.insertBefore(newElementVariable(), this)">Add variable</button>
			</div>
		</fieldset>

		<!-- Invariants -->
		<fieldset id="properties">
			<legend>Invariant's properties</legend>
			<div class="container">
				<div class="form-inline">
					<div class="col-md-1 form-group"></div>
					<div class="col-md-9 form-group">Expression</div>
					<div class="col-md-2 form-group">Category</div>
				</div>
				<button id="addPropertiesBtn" type="button" class="btn btn-success col-md-1" onclick="this.parentNode.insertBefore(newElementProperty(), this)">Add property</button>
			</div>
		</fieldset>
		
		<!-- Fin de l'etape -->
		<div class="container">
			<button type="button" class="btn btn-info nextStep" onclick="nextStep(3)">Next Step ></button>
		</div>
	</div>
	
	
	
	
	
	
	
	
	
	
	<!-- Troisieme onglet -->
	<div id="content3" class="contentInactif">
		<fieldset>
			<legend>Machine code</legend>
			
			<form id="saveForm" action="/savejsonservlet" method="post">
				<input id="dataToSave" name="data" type="hidden">
				<input id="machineName" name="machine" type="hidden">
			</form>
		
			<div class="container">
				<button type="button" class="btn btn-info" onclick="generateMachine()">Generate machine</button>
				<button type="button" class="btn btn-info" onclick="selectMachine()">Select machine</button>
				<button type="button" class="btn btn-info" onclick="saveJson()">Save machine</button>
			</div>
			
			
			<div id="machine-code"></div>
		</fieldset>
	</div>		
		
	




	<!-- Onglet des évènements : inutilisé car on modifie les évènements dans Atelier B -->
	<div id="content2" class="contentInactif">
		<fieldset id="events">
			<legend>Events</legend>
			<div class="container">
				<div class="form-inline">
					<div class="col-md-1 form-group"></div>
					<div class="col-md-2 form-group">Name</div>
					<div class="col-md-7 form-group">Expression</div>
					<div class="col-md-2 form-group">Type</div>
				</div>
				<button id="addEventsBtn" type="button" class="btn btn-success col-md-1" onclick="this.parentNode.insertBefore(newElementEvent(), this)">Add event</button>
			</div>
		</fieldset>
		<!--  
		<div class="container">
			<button type="button" class="btn btn-info" onclick="nextStep(3)">Next Step ></button>
		</div>-->
	</div>
	
	
</body>
</html>
